## 调试设备驱动程序

![image-20200904093227079](调试设备驱动程序.assets/image-20200904093227079.png)



#### kdb

![image-20200904093318556](调试设备驱动程序.assets/image-20200904093318556.png)

![image-20200904093344924](调试设备驱动程序.assets/image-20200904093344924.png)

**进入调试器**

![image-20200904093514834](调试设备驱动程序.assets/image-20200904093514834.png)

**kdb**

![image-20200904093620483](调试设备驱动程序.assets/image-20200904093620483.png)

![image-20200904093649141](调试设备驱动程序.assets/image-20200904093649141.png)

![image-20200904093712974](调试设备驱动程序.assets/image-20200904093712974.png)

**kgdb**

![image-20200904093746675](调试设备驱动程序.assets/image-20200904093746675.png)

![image-20200904093821977](调试设备驱动程序.assets/image-20200904093821977.png)

![image-20200904093846072](调试设备驱动程序.assets/image-20200904093846072.png)

![image-20200904093908797](调试设备驱动程序.assets/image-20200904093908797.png)

**gdb**

![image-20200904093937717](调试设备驱动程序.assets/image-20200904093937717.png)

![image-20200904093958815](调试设备驱动程序.assets/image-20200904093958815.png)

**JTAG调试器**

![image-20200904094039487](调试设备驱动程序.assets/image-20200904094039487.png)

![image-20200904094109592](调试设备驱动程序.assets/image-20200904094109592.png)

![image-20200904094129468](调试设备驱动程序.assets/image-20200904094129468.png)

**下载**

![image-20200904094152022](调试设备驱动程序.assets/image-20200904094152022.png)



#### 内核探测器

![image-20200904094220726](调试设备驱动程序.assets/image-20200904094220726.png)

**kprobe**

![image-20200904094302417](调试设备驱动程序.assets/image-20200904094302417.png)

![image-20200904094328254](调试设备驱动程序.assets/image-20200904094328254.png)

![image-20200904094411086](调试设备驱动程序.assets/image-20200904094411086.png)

![image-20200904094433573](调试设备驱动程序.assets/image-20200904094433573.png)

![image-20200904094457640](调试设备驱动程序.assets/image-20200904094457640.png)

![image-20200904094518989](调试设备驱动程序.assets/image-20200904094518989.png)

**jprobe**

![image-20200904094550934](调试设备驱动程序.assets/image-20200904094550934.png)

![image-20200904094612971](调试设备驱动程序.assets/image-20200904094612971.png)

![image-20200904094634490](调试设备驱动程序.assets/image-20200904094634490.png)

**返回探针**

![image-20200904100357602](调试设备驱动程序.assets/image-20200904100357602.png)

![image-20200904100442311](调试设备驱动程序.assets/image-20200904100442311.png)

![image-20200904100505246](调试设备驱动程序.assets/image-20200904100505246.png)

![image-20200904100532234](调试设备驱动程序.assets/image-20200904100532234.png)

**局限性**

![image-20200904100608609](调试设备驱动程序.assets/image-20200904100608609.png)

**查看源代码**

![image-20200904100642549](调试设备驱动程序.assets/image-20200904100642549.png)



#### kexec与kdump

![image-20200904100735856](调试设备驱动程序.assets/image-20200904100735856.png)

![image-20200904100801319](调试设备驱动程序.assets/image-20200904100801319.png)

**kexec**

![image-20200904100830087](调试设备驱动程序.assets/image-20200904100830087.png)

**kdump与kexec协同工作**

![image-20200904100909445](调试设备驱动程序.assets/image-20200904100909445.png)

![image-20200904100929532](调试设备驱动程序.assets/image-20200904100929532.png)

**kdump**

![image-20200904100959297](调试设备驱动程序.assets/image-20200904100959297.png)

![image-20200904101021945](调试设备驱动程序.assets/image-20200904101021945.png)

![image-20200904101044990](调试设备驱动程序.assets/image-20200904101044990.png)

![image-20200904101121176](调试设备驱动程序.assets/image-20200904101121176.png)

![image-20200904101143023](调试设备驱动程序.assets/image-20200904101143023.png)

**查看源代码**

![image-20200904101210442](调试设备驱动程序.assets/image-20200904101210442.png)



#### 性能剖析

![image-20200904101246622](调试设备驱动程序.assets/image-20200904101246622.png)

![image-20200904101307555](调试设备驱动程序.assets/image-20200904101307555.png)

**利用OProfile剖析内核性能**

![image-20200904101347316](调试设备驱动程序.assets/image-20200904101347316.png)

![image-20200904101410705](调试设备驱动程序.assets/image-20200904101410705.png)

![image-20200904101443695](调试设备驱动程序.assets/image-20200904101443695.png)

**利用gprof剖析应用程序性能**

![image-20200904101527188](调试设备驱动程序.assets/image-20200904101527188.png)

![image-20200904101551680](调试设备驱动程序.assets/image-20200904101551680.png)



#### 跟踪

![image-20200904101848764](调试设备驱动程序.assets/image-20200904101848764.png)

**LTT**

![image-20200904101825655](调试设备驱动程序.assets/image-20200904101825655.png)

![image-20200904101648459](调试设备驱动程序.assets/image-20200904101648459.png)

![image-20200904101708093](调试设备驱动程序.assets/image-20200904101708093.png)

![image-20200904101734529](调试设备驱动程序.assets/image-20200904101734529.png)



#### LTP

![image-20200904101941260](调试设备驱动程序.assets/image-20200904101941260.png)



#### UML

![image-20200904102005394](调试设备驱动程序.assets/image-20200904102005394.png)



#### 诊断工具

![image-20200904102036294](调试设备驱动程序.assets/image-20200904102036294.png)



#### 内核修改配置选项

![image-20200904102103782](调试设备驱动程序.assets/image-20200904102103782.png)

![image-20200904102118426](调试设备驱动程序.assets/image-20200904102118426.png)



#### 测试设备

![image-20200904102144335](调试设备驱动程序.assets/image-20200904102144335.png)



#### 版本控制

![image-20200904102421632](调试设备驱动程序.assets/image-20200904102421632.png)