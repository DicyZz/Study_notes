## Linux Kernel Development

### 进程管理

![image-20200829181607698](进程管理/image-20200829181607698.png)

![image-20200829182059120](进程管理/image-20200829182059120.png)

![image-20200829182418332](进程管理/image-20200829182418332.png)

![image-20200829182510844](进程管理/image-20200829182510844.png)

**2.1.1 分配进程描述符**

![image-20200829182818762](进程管理/image-20200829182818762.png)

![image-20200829183018138](进程管理/image-20200829183018138.png)

![image-20200829183446726](进程管理/image-20200829183446726.png)

![image-20200829183415263](进程管理/image-20200829183415263.png)

**2.1.2 进程描述符的存放**

![image-20200829183713016](进程管理/image-20200829183713016.png)

**2.1.3 进程状态**

![image-20200829183936830](进程管理/image-20200829183936830.png)

![image-20200829184022370](进程管理/image-20200829184022370.png)

**2.1.4 设置当前进程状态**

![image-20200829184124347](进程管理/image-20200829184124347.png)

**2.1.5 进程上下文**

![image-20200829185057757](进程管理/image-20200829185057757.png)

#### 2.2 进程创建

![image-20200829184930136](进程管理/image-20200829184930136.png)

**2.2.1 写时拷贝**

![image-20200829191747044](进程管理/image-20200829191747044.png)

**2.2.2 fork()**

![image-20200829192254366](进程管理/image-20200829192254366.png)

![image-20200829192325186](进程管理/image-20200829192325186.png)



#### 2.3 线程在Linux中的实现

![image-20200829193018259](进程管理/image-20200829193018259.png)

![image-20200829193228630](进程管理/image-20200829193228630.png)

![image-20200829193302571](进程管理/image-20200829193302571.png)

![image-20200829193324610](进程管理/image-20200829193324610.png)

![image-20200829193359466](进程管理/image-20200829193359466.png)

![image-20200829193419257](进程管理/image-20200829193419257.png)

**内核线程**

![image-20200829194017892](进程管理/image-20200829194017892.png)

![image-20200829194206980](进程管理/image-20200829194206980.png)



#### 2.4 进程终结

![image-20200829194345746](进程管理/image-20200829194345746.png)

![image-20200829194411353](进程管理/image-20200829194411353.png)

**2.4.1 删除进程描述符**

![image-20200829194535302](进程管理/image-20200829194535302.png)



### 进程调度

#### 3.1 策略

**3.1.1 I/O消耗性和处理器消耗性的进程**

![image-20200829195011663](进程管理/image-20200829195011663.png)

![image-20200829195052177](进程管理/image-20200829195052177.png)

**3.1.2 进程优先级**

![image-20200829195229701](进程管理/image-20200829195229701.png)

#### 3.2 调度算法

**3.2.1 可执行队列**

![image-20200829195631167](进程管理/image-20200829195631167.png)

**3.2.2 优先级数组**

![image-20200829195825401](进程管理/image-20200829195825401.png)

![image-20200829195935593](进程管理/image-20200829195935593.png)

![image-20200829200001635](进程管理/image-20200829200001635.png)

**3.2.3 重新计算时间片**

![image-20200829200147928](进程管理/image-20200829200147928.png)

![image-20200829200210440](进程管理/image-20200829200210440.png)

**3.2.5 睡眠和唤醒**

![image-20200829200745677](进程管理/image-20200829200745677.png)

![image-20200829200833135](进程管理/image-20200829200833135.png)

![image-20200829200948858](进程管理/image-20200829200948858.png)

**3.2.6 负载平衡程序**

![image-20200829201045257](进程管理/image-20200829201045257.png)

![image-20200829201113268](进程管理/image-20200829201113268.png)

![image-20200829201214473](进程管理/image-20200829201214473.png)

![image-20200829201227769](进程管理/image-20200829201227769.png)



#### 3.3 抢占和上下文切换

![image-20200829201341515](进程管理/image-20200829201341515.png)

![image-20200829201436829](进程管理/image-20200829201436829.png)

**3.3.1 用户抢占**

![image-20200829201636252](进程管理/image-20200829201636252.png)

**3.3.2 内核抢占**

![image-20200829201820039](进程管理/image-20200829201820039.png)



#### 3.4 实时

![image-20200829201929497](进程管理/image-20200829201929497.png)

![image-20200829202004617](进程管理/image-20200829202004617.png)



#### 3.5 与调度相关的系统调用

![image-20200829202240227](进程管理/image-20200829202240227.png)

**3.5.1 与调度策略和优先级相关的系统调用**

![image-20200829202335307](进程管理/image-20200829202335307.png)

![image-20200829202353536](进程管理/image-20200829202353536.png)

**3.5.2 与处理器绑定有关的系统调用**

![image-20200829202449497](进程管理/image-20200829202449497.png)

**3.5.3 放弃处理器时间**

![image-20200829202524359](进程管理/image-20200829202524359.png)

